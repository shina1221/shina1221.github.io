---
layout: post
title: 조절변수를 포함한 회귀모형_상호작용효과
date: 2023-09-16 19:21:23 +0900
category: statistics 
use_math: true
---      
조절변수를 포함한 회귀모형은 특정한 설명변수 X와 종속변수 Y간 관계의 방향이나 정도가 제3의 변수  
Z값에 따라 달라지는지 여부를 검증할 때 사용. 여기에 사용되는 변수 Z를 조절변수라고 한다.
<br>  
설명변수 X와 종속변수 Y간 관계의 크기나 방향이 조절변수 Z의 크기에 따라 유의한 수준으로  
달라질 때 해당 설명변수 X와 조절변수 Z 사이에 상호작용(혹은 교호작용)효과가 존재한다고 본다.  
ex) 개인 업무성과에 따른 급여격차가 클수록 조직의 성과가 높을 것이다. (조절변수x)
    개인 업무성과에 따른 급여격차가 조직성과에 미치는 긍정적 효과는 집단주의 문화권에서보다  
    개인주의 문화권에서 더 클 것이다. (조절변수 o)  
개인주의 문화권과 집단주의 문화권으로 구분한 더미변수(Z)가 조절변수가 된다.
<br>  
모집단 회귀방정식: $\widehat{Y}=\beta_0+\beta_1\cdot X+\beta_2\cdot X+\beta_3 \cdot XZ$  
대립가설: $\beta_3$는 0이 아닐 것이다.  
여기서 모집단 모수 $beta_3$의 표본통계량인 $b_3$의 표본분포는 다중회귀모형에서 개별 독립변수의 회귀계수처럼 정규분포의 특성을 가진다.  
표본통계량을 표준화한 검증통계량  
$t=\frac{b_3}{SE}$  
확률분포는 표준정규분포대신 t분포(자유도=n-4)
<br>  
만약 대립가설이 채택될 경우(=문화권이 급여격차와 조식성과 간 관계의 크기를 설명한다.)  
모집단 회귀방정식을 설명변수 X의 함수로 재정렬   
$\widehat{Y}=(\beta_0+\beta_2 \cdot Z) + (\beta_1+\beta_3 \cdot Z) \cdot X$  
X의 회귀계수인 $(\beta_1+\beta_3 \cdot Z)$는 X가 한 단위 변화하는데 따른 $\widehat{Y}$의 변화량인  
한계효과(marginal effect)를 나타낸다.  
초점은 X가 $\widehat{Y}$에 미치는 한계효과가 특정한 값으로 정해지지 않고 Z값에 따라 변한다는 점이다.  
ex)Z가 1일 때와 2일 때 한계효과는 각각 $\beta_1+\beta_3$, $\beta_2+2\beta_3$가 된다.
<br>  
주 설명변수 X와 조절변수 Z, 그 둘을 곱해 만든 상호작용항 $X \cdot Z$를 회귀모형에 독립변수로  
포함시켜 상호작용항의 회귀계수 $\beta_3$이 통계적으로 유의한 수준에서 0과 다르다고 할 수  
있는지 여부인 **조절효과를 검증하고자 할 때 귀무가설을 기각하고 대립가설을 지지하는 결과를 얻기 힘들다.**  
이는 보통 상호작용항 $X \cdot Z$가 변수 X나 Z와 높은 상관관계를 가질 가능성이 높고,  
독립변수들 간 높은 상관관계를 가질 때 발생하는 다중공선성 문제로 표본회귀계수 $/beta_3$의 오차가 커지기 때문이다.  
그때문에 표본오차를 분모로 하는 검증통계치는 작아져 귀무가설 기각영역의 경계값을 넘어설 가능성이 낮아진다.
<br>  

> 해결책  

1.설명변수와 조절변수를 각각 편차점수(devision score)를 갖는 새로운 변수 $X_i-\overline{X}, Z_i-\overline{Z}$로 변환하고  
그것들간 상호작용항을 만들어 회귀분석에 사용한다.
<br>  
*다중공선성: 독립변수들 사이에 높은 상관관계가 존재할 때 발생한다.  
회귀모형에 포함된 독립변수들 사이에 다중공선성이 존재하면 상관관계가 높은 개별 독립변수들의  
종속변수에 미치는 영향을 분리해내기 어렵게 되고, 상관관계가 높은 독립변수들의 회귀계수  
표본분포의 표본오차가 커지는 문제가 발생한다.  
이는 검정통계량 공식의 분모가 커지며 검증통계치가 작아진다는 의미이다.  
= 검증통계치가 기각영역 경계값을 벗어난 값을 가질 가능성이 낮아진다는 의미  
그 결과 해당 독립변수에 대한 귀무가설을 기각하고 대립가설을 채택할 가능성 또한 그만큼 낮아진다.
<br>  
$VIF_i = {1 \over 1 - r_i} $  
$r_i$는 i번째 변수를 제외한 회귀식의 $R^2$
<br>  
*다중공선성 판별법  
-한 회귀모형 안에 포함된 독립변수들 사이의 상관계수가 +0.7이상 혹은 -0.7이하이면 다중공선성을 의심할 수 있다.  
-VIF(Variance inflation factor)가 10보다 크면(혹은 VIF의 역수인 tolerance가 0.1보다 작으면) 다중공선성을 의심해볼 수 있다.    




 