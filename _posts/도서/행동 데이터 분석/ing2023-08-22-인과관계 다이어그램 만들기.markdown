---
layout: post
title: 인과관계 다이어그램 만들기2     
date: 2023-08-22 19:20:23 +0900
category: DA
use_math: true
---
# 행동 데이터 분석    
> 숫자형 변수 사이의 관계    

관찰 가능한 변수는 범주형 변수와 숫자형 변수로 나뉜다.  

> 숫자형 변수  

tip)이진형 변수를 0/1로 변환해 숫자로 처리할 수 있는데 이렇게 하면 변수 사이의  
상관관계를 파악할 수도 있다.  
두 관심 변수의 행을 보면 데이터 셋의 모든 숫자형 변수와 어떤 상관관계가 있는지 알 수 있다.  
또한 관심 요인 및 효과와의 상관관계 강도를 보면 주어진 변수로 무엇을 할 것인지  
결정할 수 있다.  
**변수의 포함 여부를 결정하는 크기정도 임계값은 정해져 있지 않고** 후보 변수의 개수에  
따라 달라질 수 있다. 후보로 생각했던 변수 중에 임계값을 통과하는 변수가 거의  
없고 임계값에 가까운 다른 변수가 있다면 해당 변수를 포함하는 것이 좋다.  

변수가 관심 변수 중 하나와 낮은 상관관계가 있더라도 교란변수인 경우가 있을 수 있다.  
이론적인 근거가 있다면 변수가 관심 변수와 낮은 상관관계가 있더라도 변수를 포함할  
수 있다. 일반적으론 관심 변수와 최소한 중간 수준의 상관관계가 있는 변수에 초점을  
맞추는 것이 좋다.  

*인과관계 다이어그램의 상관관계는 거짓 양성(무작위성 때문에 계수가 실제보다 더 크게  
나타날 수 있음)일 가능성이 있으며 반대로 계수가 더 작은 경우 거짓 음성일 가능성이 있다.  

*연속형 X, 연속형 Y일 경우 피어슨 상관계수를 사용한다.  
*켄달의 타우는 데이터 샘플수가 적거나 순위에서 동률이 많은 경우 주로 사용한다.  

> 범주형 변수 사이의 관계  

범주형 변수는 피어슨 상관계수를 사용할 수 없으므로 크래머 V 계수를 사용할 수 있다.  
**두 변수 X,Y가 연속형 자료지만 정규성을 만족하지 않는경우 순서척도인 스피어만** **상관계수를 사용한다.**  
**혹은 연속형 변수가 아닌 서열 척도에 사용가능하다.**  
-1에서 1 사이의 값을 가진다.  
  
!)연속형 X, 범주형 Y  
-point biserial correlation(점이연 상관계수): X가 연속형이고 Y가 이항변수(생존, 사망)일 때 사용한다. 이는 이항변수를 0과 1로 변환해 피어슨 상관계수로 계산한 것이다.  
  
-biserial correlation: X가 연속형이고 Y가 이항변수(생존, 사망)일 때 사용한다.  
**하지만 이항변수가 원래 연속형인 변수를 이분화한 경우에 사용한다.**  
  
-polyserial correlation:X가 연속형이고 Y변수의 범주화가 3개 이상인 경우 사용한다.  
  
!)범주형 X, 범주형 Y  

-파이계수: X와 Y변수 모두 이항변수일 때 사용한다.  
파이계수 대신 L, C, Lambda 등을 이용하기도 한다. 0에서 1사이 값을 가지고 1에 가까울  
수록 상관관계가 높다.  

-크래머 v계수: X,Y 변수의 범주중 한 변수가 3개 이상인 경우 상관분석을 하는 방법이다.  
  
참고 출처:  
https://eunhye-zz.tistory.com/29  
https://m.blog.naver.com/statsol/221393855395  