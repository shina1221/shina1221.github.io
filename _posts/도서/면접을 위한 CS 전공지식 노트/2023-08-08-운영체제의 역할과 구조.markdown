---
layout: post
title: 운영체제의 역할과 구조  
date: 2023-08-02 19:20:23 +0900
category: CS
---
# 면접을 위한 CS 전공지식 노트  
> 운영체제와 컴퓨터  

운영체제: 사용자가 컴퓨터를 쉽게 다루게 해주는 인터페이스이다.  
펌웨어: 전자기기 등의 기본적인 제어 및 구동을 담당하는 소프트웨어로  
운영체제와 비슷하지만 소프트웨어를 추가로 설치할 수 없다.  
<br>  
*ROM(Read Only Memory): 한번 기록한 정보가 전원 유지와 상관없이 (반)영구적으로 기억되며, 삭제나 수정이 불가능한 기억장치   
<br>  
운영체제의 역할  
CPU 스케줄링과 프로세스 관리: CPU 소유권을 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제,  
자원 할당 및 반환을 관리한다.  
메모리 관리: 한정된 메모리를 어떤 프로세스에 할당할지 관리한다.  
디스크 파일 관리: 디스크 파일을 어떤 방법으로 보관할지 관리한다.  
I/O 디바이스 관리: I/O 디바이스들인 마우스, 키보드와 컴퓨터 간에 데이터를 주고받는 것을 관리한다.  
<br>  
운영체제의 구조  
유저프로그램  
GUI(혹은 CUI)  
시스템 콜   
커널  
드라이버  
하드웨어 
<br>  
*드라이버: 하드웨어를 제어하기 위한 SW  
<br>  
시스템콜: 운영체제가 커널에 접근하기 위한 인터페이스로 유저 프로그램이 운영체제의 서비스를 받기 위해  
커널 함수를 호출할 때 쓴다.  
유저 프로그램이 I/O 요청으로 트랩을 발동하면 올바른 I/O 요청인지 확인 후 유저 모드가 시스템콜을 통해  
커널 모드로 변환되어 실행된다.  

*트랩: 현재 실행중인 컴퓨터 프로그램이 일으키는 소프트웨어적인 사건을 알리는 메커니즘으로 소프트웨어 인터럽트라고도 한다. 또한 실행중인 프로그램 내에 테스트를 위해 특별한 조건을 걸어놓는 방법이기도 하다.  
ex) I/O 요청으로 파일을 읽는 fs.readFile()함수를 발동했을 때 유저 모드에서 파일을 읽지 않고 커널 모드로 들어가 파일을 읽고 다시 유저모드로 돌아가 그 뒤에 있는 유저 프로그램의 로직을 수행한다.  
*I/O 요청: 입출력 함수, 데이터베이스, 네트워크, 파일 접근 등에 관한 일이다.  
*유저모드: 응용 프로그램이나 사용자가 직접 실행하는 코드가 동작하는 환경으로 유저가 접근할 수 있는 영역을 제한해  
컴퓨터 자원에 함부로 침범하지 못하게 한다.      
*커널모드: 모든 컴퓨터 자원에 접근할 수 있는 모드로 운영체제의 핵심인 커널이 실행되는 환경이다.   
*커널: 하드웨어와 응용 프로그램 간의 상호 작용을 관리하고 운영 체제의 기본 기능을 제공하는 소프트웨어이다.
시스템콜 인터페이스를 제공하며 응용 프로그램은 주로 유저모드에서, 운영 체제의 핵심 기능은 커널모드에서 실행된다.  
이 두 모드 간에는 보안 및 안정성을 유지하기 위한 역할 분담이 이루어진다.  
<br>  
프로세스나 스레드에서 운영체제로 어떤 요청을 할때 시스템 콜이라는 인터페이스와 커널을 거쳐 운영체제에 전달된다.  
시스템콜은 하나의 추상화 계층으로 네트워크 통신이나 데이터베이스와 같은 낮은 단계의 영역 처리에 대한 부분을 많이  
신경쓰지 않고 프로그램을 구현할 수 있다.  
<br>  
modebit: 1(유저모드)또는 0(커널모드)의 값을 가지는 플래그 변수로 시스템콜이 작동될 때 modebit을 참고해 유저모드와   커널모드를 구분한다. 이는 해킹 등으로 원하지 않는 I/O 요청이 생길 수 있는 것을 방지하는데 기여한다.  
유저모드일 경우에 시스템콜을 못하게 막아 한정된 일만 가능하게 할 수 있다.  
ex) 유저 프로그램이 카메라를 이용하려 할 때 시스템 콜을 호출하고   
modebit을 1에서 0으로 바꾸며 커널모드로 변경한 뒤 요청하는 I/O 작업을 수행한다.  
그 이후 modebit을 0에서 1로 바꿔 유저모드로 변경하고 이후 로직을 수행한다.   



참고 출처:  
http://www.ktword.co.kr/test/view/view.php?m_temp1=3027  
https://learn.microsoft.com/ko-kr/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode  

